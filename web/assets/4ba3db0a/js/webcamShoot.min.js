
$(document).ready(function(){var a=$("#yii2-webcam-shoot-photo").attr("src");$("#yii2-webcam-shoot-show").on("click",function(){$("#yii2-webcam-shoot-photo").height($("#yii2-webcam-shoot-video").height());$("#yii2-webcam-shoot-ok").attr("disabled","disabled");$("#yii2-webcam-shoot-video").attr("src","");$("#yii2-webcam-shoot-photo").attr("src",a);(function(){var e=document.getElementById("yii2-webcam-shoot-video"),c=document.getElementById("yii2-webcam-shoot-canvas"),d=c.getContext("2d"),b=document.getElementById("yii2-webcam-shoot-photo"),f=window.URL||window.webkitURL;navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;navigator.getMedia({video:true,audio:false},function(g){e.src=f.createObjectURL(g);e.play();$("#yii2-webcam-shoot-capture").removeAttr("disabled");$("#yii2-webcam-shoot-error").hide();$("#yii2-webcam-shoot-capture").on("click",function(){d.drawImage(e,0,0,$("#yii2-webcam-shoot-video").width(),$("#yii2-webcam-shoot-video").height());b.setAttribute("src",c.toDataURL("image/png"));$("#yii2-webcam-shoot-ok").removeAttr("disabled")})},function(g){$("#yii2-webcam-shoot-capture").attr("disabled","disabled");$("#yii2-webcam-shoot-error").show()})})()})});